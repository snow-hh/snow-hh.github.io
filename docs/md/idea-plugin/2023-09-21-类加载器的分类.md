# ç¬¬6èŠ‚ï¼šç±»åŠ è½½å™¨çš„åˆ†ç±»

ä½œè€…ï¼šå°èƒ¡

>æ²‰æ·€ã€æˆé•¿ï¼Œè®©è‡ªå·±å’Œä»–äººéƒ½èƒ½æœ‰æ‰€æ”¶è·ï¼ğŸ˜„

## ä¸€ã€æ¦‚è¿°

&emsp;&emsp;**JVMæ”¯æŒä¸¤ç§ç±»å‹çš„ç±»åŠ è½½å™¨ï¼Œåˆ†åˆ«ä¸º`å¼•å¯¼ç±»åŠ è½½å™¨(Bootstrap ClassLoader)`å’Œ`è‡ªå®šä¹‰ç±»åŠ è½½å™¨(User-Defined ClassLoader )`**

&emsp;&emsp;**ä»æ¦‚å¿µä¸Šæ¥è®²ï¼Œè‡ªå®šä¹‰ç±»åŠ è½½å™¨ä¸€èˆ¬æŒ‡çš„æ˜¯ç¨‹åºä¸­ç”±å¼€å‘äººå‘˜è‡ªå®šä¹‰çš„ä¸€ç±»ç±»åŠ è½½å™¨ï¼Œä½†æ˜¯Javaè™šæ‹Ÿæœºè§„èŒƒå´æ²¡æœ‰è¿™ä¹ˆå®šä¹‰ï¼Œ`è€Œæ˜¯å°†æ‰€æœ‰æ´¾ç”ŸäºæŠ½è±¡ç±»ClassLoaderçš„ç±»åŠ è½½å™¨éƒ½åˆ’åˆ†ä¸ºè‡ªå®šä¹‰ç±»åŠ è½½å™¨ã€‚`**

&emsp;&emsp;**æ— è®ºç±»åŠ è½½å™¨çš„ç±»å‹å¦‚ä½•åˆ’åˆ†ï¼Œåœ¨ç¨‹åºä¸­æˆ‘ä»¬æœ€å¸¸è§çš„ç±»åŠ è½½å™¨å§‹ç»ˆåªæœ‰3ä¸ªï¼Œå¦‚ä¸‹æ‰€ç¤º:**

![](https://snow-hh.github.io/assets/img/jvm/6-01.png)

&emsp;&emsp;`è¿™é‡Œçš„å››è€…ä¹‹é—´çš„å…³ç³»æ˜¯åŒ…å«å…³ç³»ã€‚ä¸æ˜¯ä¸Šå±‚ä¸‹å±‚ï¼Œä¹Ÿä¸æ˜¯å­çˆ¶ç±»çš„ç»§æ‰¿å…³ç³»ã€‚`

- **å…³äºClass Loader ï¼ˆsun.misc.Launcherå®ƒæ˜¯ä¸€ä¸ªjavaè™šæ‹Ÿæœºçš„å…¥å£åº”ç”¨ã€‚ï¼‰**

![](https://snow-hh.github.io/assets/img/jvm/6-02.png)

```java
public class ClassLoaderTest {

    public static void main(String[] args) {
        //è·å–ç³»ç»Ÿç±»åŠ è½½å™¨
        ClassLoader systemClassLoader = ClassLoader.getSystemClassLoader();
        System.out.println(systemClassLoader);//sun.misc.Launcher$AppClassLoader@18b4aac2

        //è·å–å…¶ä¸Šå±‚ï¼šæ‰©å±•ç±»åŠ è½½å™¨
        ClassLoader extClassLoader = systemClassLoader.getParent();
        System.out.println(extClassLoader);//sun.misc.Launcher$ExtClassLoader@4554617c

        //è·å–å…¶ä¸Šå±‚ï¼š
        ClassLoader bootstrapClassLoader = extClassLoader.getParent();
        System.out.println(bootstrapClassLoader);//null

        //å¯¹äºç”¨æˆ·è‡ªå®šä¹‰çš„æ¥è¯´:é»˜è®¤ä½¿ç”¨ç³»ç»Ÿç±»åŠ è½½å™¨è¿›è¡ŒåŠ è½½çš„
        ClassLoader classLoader = ClassLoaderTest.class.getClassLoader();
        System.out.println(classLoader);//sun.misc.Launcher$AppClassLoader@18b4aac2

        //Stringç±»ä½¿ç”¨å¼•å¯¼ç±»åŠ è½½å™¨è¿›è¡ŒåŠ è½½çš„ã€‚--->Javaæ ¸å¿ƒç±»åº“éƒ½æ˜¯ä½¿ç”¨å¼•å¯¼ç±»åŠ è½½å™¨è¿›è¡ŒåŠ è½½
        ClassLoader classLoader1 = String.class.getClassLoader();
        System.out.println(classLoader1);//null
    }
}
```

## äºŒã€å¯åŠ¨ç±»åŠ è½½å™¨ï¼ˆå¼•å¯¼ç±»åŠ è½½å™¨ï¼ŒBootstrap ClassLoader è™šæ‹Ÿæœºè‡ªå¸¦ï¼‰

&emsp;&emsp;è¿™ä¸ªç±»åŠ è½½ä½¿ç”¨C/C++è¯­è¨€å®ç°çš„ï¼ŒåµŒå¥—åœ¨JVMå†…éƒ¨ã€‚å®ƒç”¨æ¥åŠ è½½Javaçš„æ ¸å¿ƒåº“(JAVA_HOME/jre/1ib/rt.jarã€resources.jaræˆ–sun.boot.class.pathè·¯å¾„ä¸‹çš„å†…å®¹) ,ç”¨äºæä¾›JVMè‡ªèº«éœ€è¦çš„ç±»å¹¶ä¸ç»§æ‰¿è‡ªjava.lang.ClassLoader,æ²¡æœ‰çˆ¶åŠ è½½å™¨ã€‚
åŠ è½½æ‰©å±•ç±»å’Œåº”ç”¨ç¨‹åºç±»åŠ è½½å™¨ï¼Œå¹¶æŒ‡å®šä¸ºä»–ä»¬çš„çˆ¶ç±»åŠ è½½å™¨ã€‚å‡ºäºå®‰å…¨è€ƒè™‘ï¼ŒBootstrapå¯åŠ¨ç±» åŠ è½½å™¨åªåŠ è½½åŒ…åä¸ºjavaã€javaxã€sunç­‰å¼€å¤´çš„ç±»

## ä¸‰ã€æ‰©å±•ç±»åŠ è½½å™¨ï¼ˆExtension ClassLoaderï¼‰
- Javaè¯­è¨€ç¼–å†™ï¼Œç”±sun.misc.LauncherSExtClassLoaderå®ç°ã€‚

- `æ´¾ç”ŸäºClassLoaderç±»`

- çˆ¶ç±»åŠ è½½å™¨ä¸ºå¯åŠ¨ç±»åŠ è½½å™¨

- ä»java.ext.dirsç³»ç»Ÿå±æ€§æ‰€æŒ‡å®šçš„ç›®å½•ä¸­åŠ è½½ç±»åº“ï¼Œæˆ–ä»JDKçš„å®‰è£…ç›®å½•çš„jre/lib/extå­ç›®å½•(æ‰©å±•ç›®å½•)ä¸‹åŠ è½½ç±»åº“ã€‚å¦‚æœç”¨æˆ·åˆ›å»ºçš„JARæ”¾åœ¨æ­¤ç›®å½•ä¸‹ï¼Œä¹Ÿä¼šè‡ªåŠ¨ç”±æ‰©å±•ç±»åŠ è½½å™¨åŠ è½½ã€‚


## å››ã€åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨ï¼ˆç³»ç»Ÿç±»åŠ è½½å™¨ï¼ŒAppClassLoaderï¼‰
- javaè¯­è¨€ç¼–å†™ï¼Œç”±sun .misc.Launcher$AppClassLoaderå®ç°
- æ´¾ç”ŸäºClassLoaderç±»
- çˆ¶ç±»åŠ è½½å™¨ä¸ºæ‰©å±•ç±»åŠ è½½å™¨
- å®ƒè´Ÿè´£åŠ è½½ç¯å¢ƒå˜é‡classpathæˆ–ç³»ç»Ÿå±æ€§java.class.path æŒ‡å®šè·¯å¾„ä¸‹çš„ç±»åº“
- è¯¥ç±»åŠ è½½æ˜¯ç¨‹åºä¸­é»˜è®¤çš„ç±»åŠ è½½å™¨ï¼Œä¸€èˆ¬æ¥è¯´ï¼ŒJavaåº”ç”¨çš„ç±»éƒ½æ˜¯ç”±å®ƒæ¥å®ŒæˆåŠ è½½
- é€šè¿‡ClassLoader#getSystemClassLoader ()æ–¹æ³•å¯ä»¥è·å–åˆ°è¯¥ç±»åŠ è½½å™¨

```java
public class ClassLoaderTest1 {
    public static void main(String[] args) {
        System.out.println("*************å¯åŠ¨ç±»åŠ è½½å™¨*************");
        //è·å–bootstrapClassloaderèƒ½å¤ŸåŠ è½½çš„apiè·¯å¾„
        URL[] urLs = Launcher.getBootstrapClassPath().getURLs();

        for (URL element :urLs){
            System.out.println(element.toExternalForm());
        }
        //ä»ä¸Šé¢çš„è·¯å¾„ä¸­éšæ„é€‰æ‹©ä¸€ä¸ªç±»ï¼Œæ¥çœ‹çœ‹å®ƒçš„ç±»åŠ è½½å™¨æ˜¯ä»€ä¹ˆï¼šå¼•å¯¼ç±»åŠ è½½å™¨
        ClassLoader classLoader = Provider.class.getClassLoader();
        System.out.println(classLoader);

        System.out.println("*************æ‰©å±•ç±»åŠ è½½å™¨*************");
        String extDirs = System.getProperty("java.ext.dirs");
        for (String path : extDirs.split(";")){
            System.out.println(path);
        }
        //ä»ä¸Šé¢çš„è·¯å¾„ä¸­éšæ„é€‰æ‹©ä¸€ä¸ªç±»ï¼Œæ¥çœ‹çœ‹å®ƒçš„ç±»åŠ è½½å™¨æ˜¯ä»€ä¹ˆï¼šæ‰©å±•ç±»åŠ è½½å™¨
        ClassLoader classLoader1 = CurveDB.class.getClassLoader();
        System.out.println(classLoader1);//sun.misc.Launcher$ExtClassLoader@7ea987ac
    }
}
```

## äº”ã€è‡ªå®šä¹‰ç±»åŠ è½½å™¨
**åœ¨Javaçš„æ—¥å¸¸åº”ç”¨ç¨‹åºå¼€å‘ä¸­ï¼Œç±»çš„åŠ è½½å‡ ä¹æ˜¯ç”±ä¸Šè¿°3ç§ç±»åŠ è½½å™¨ç›¸äº’é…åˆæ‰§è¡Œçš„ï¼Œåœ¨å¿…è¦æ—¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è‡ªå®šä¹‰ç±»åŠ è½½å™¨ï¼Œæ¥å®šåˆ¶ç±»çš„åŠ è½½æ–¹å¼ã€‚**

**ä¸ºä»€ä¹ˆè¦è‡ªå®šä¹‰ç±»åŠ è½½å™¨?**
- éš”ç¦»åŠ è½½ç±»
- ä¿®æ”¹ç±»åŠ è½½çš„æ–¹å¼
- æ‰©å±•åŠ è½½æº
- é˜²æ­¢æºç æ³„æ¼

**ç”¨æˆ·è‡ªå®šä¹‰ç±»åŠ è½½å™¨å®ç°æ­¥éª¤:**
- 1.å¼€å‘äººå‘˜å¯ä»¥é€šè¿‡ç»§æ‰¿æŠ½è±¡ç±»java. lang.ClassLoaderç±»çš„æ–¹å¼ï¼Œå®ç°è‡ªå·±çš„ç±»åŠ è½½å™¨ï¼Œä»¥æ»¡è¶³ä¸€äº›ç‰¹æ®Šçš„éœ€æ±‚ã€‚
- 2.åœ¨JDK1.2ä¹‹å‰ï¼Œåœ¨è‡ªå®šä¹‰ç±»åŠ è½½å™¨æ—¶ï¼Œæ€»ä¼šå»ç»§æ‰¿ClassLoaderç±»å¹¶é‡å†™loadClass()æ–¹æ³•ï¼Œä»è€Œå®ç°è‡ªå®šä¹‰çš„ç±»åŠ è½½ç±»ï¼Œä½†æ˜¯åœ¨JDK1 .2ä¹‹åå·²ä¸å†å»ºè®®ç”¨æˆ·å»è¦†ç›–loadClass()æ–¹æ³•ï¼Œè€Œæ˜¯å»ºè®®æŠŠè‡ªå®šä¹‰çš„ç±»åŠ è½½é€»è¾‘å†™åœ¨findClass()æ–¹æ³•ä¸­ã€‚
- 3.åœ¨ç¼–å†™è‡ªå®šä¹‰ç±»åŠ è½½å™¨æ—¶ï¼Œå¦‚æœæ²¡æœ‰å¤ªè¿‡äºå¤æ‚çš„éœ€æ±‚ï¼Œå¯ä»¥ç›´æ¥ç»§æ‰¿URLClassLoaderç±»ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…è‡ªå·±å»ç¼–å†™findClass()æ–¹æ³•åŠå…¶è·å–å­—èŠ‚ç æµçš„æ–¹å¼ï¼Œä½¿è‡ªå®šä¹‰ç±»åŠ è½½å™¨ç¼–å†™æ›´åŠ ç®€æ´ã€‚

```java
public class CustomClassLoader extends ClassLoader{
    @Override
    protected Class<?> findClass(String name) throws ClassNotFoundException {
        byte[] result = getClassFromCustomPath(name);
        if (result==null){
            try {
                throw new FileNotFoundException();
            } catch (FileNotFoundException e) {
                e.printStackTrace();
            }
        }else {
            return defineClass(name,result,0,result.length);
        }
        return super.findClass(name);
    }

    private byte[] getClassFromCustomPath(String name ){
        //ä»è‡ªå®šä¹‰è·¯å¾„ä¸­åŠ è½½æŒ‡å®šç±»ï¼šç»†èŠ‚ç•¥
        //å¦‚æœä»æŒ‡å®šè·¯å¾„çš„å­—èŠ‚ç æ–‡ä»¶è¿›è¡Œäº†åŠ å¯†ï¼Œåˆ™éœ€è¦åœ¨æ­¤æ–¹æ³•ä¸­è¿›è¡Œè§£å¯†
        return null;
    }

    public static void main(String[] args) {
        CustomClassLoader customClassLoader = new CustomClassLoader();
        try {
            Class<?> clazz = Class.forName("One", true, customClassLoader);
            Object obj = clazz.newInstance();
            System.out.println(obj.getClass().getClassLoader());
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}
```

## å…­ã€å…³äºClassLoader

&emsp;&emsp;**ClassLoaderç±»ï¼Œå®ƒæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå…¶åæ‰€æœ‰çš„ç±»åŠ è½½å™¨éƒ½ç»§æ‰¿è‡ªClassLoader (ä¸åŒ…æ‹¬å¯åŠ¨ç±»åŠ è½½å™¨)**
- getParcant()  ï¼šè¿”å›è¯¥ç±»åŠ è½½å™¨çš„è¶…ç±»çŸ¥è½½å™¨
- loadClass(String nama)ï¼šåŠ æˆ˜åç§°ä¸ºnameçš„ç±»ï¼Œè¿”å›ç»“æœä¸ºjavalang.Classç±»çš„å®ä¾‹
- findClas(String name)ï¼šæŸ¥æ‰¾åç§°ä¸ºnameçš„ç±»ï¼Œè¿”å›ç»“æœä¸ºjova lang .Chnssç±»çš„å®ä¾‹
- findLodedCIass(String name)ï¼šæŸ¥æ‰¾åç§°ä¸ºnaçš„å·²ç»è¢«åŠ è½½è¿‡çš„ç±»ï¼Œè¿”ç½‘ç»“æœä¸ºjivn lang Classç±»çš„å®ä¾‹
- difineClass(String name,byte[] b.int off,int len)ï¼šæŠŠå­—èŠ‚æ•°ç»„bä¸­çš„å†…å®¹è½¬æ¢ä¸ºä¸€ä¸ªJavaç±»ï¼Œè¿”å›ç»“æœä¸ºjavalang.Classç±»çš„å®ä¾‹
- TesolveClass(Class<7> c)ï¼šè¿æ¥æŒ‡å®šçš„ä¸€ä¸ªJavaç±»

**è·å–ClassLoaderçš„é€”å¾„ï¼š**

- æ–¹å¼ä¸€:è·å–å½“å‰ç±»çš„ClassLoader  
~~~
clazz.getClassLoader()
~~~
- æ–¹å¼äºŒ:è·å–å½“å‰çº¿ç¨‹ä¸Šä¸‹æ–‡çš„ClassLoader  
~~~
Thread.currentThread().getContextClassLoader()
~~~
- æ–¹å¼ä¸‰:è·å–ç³»ç»Ÿçš„ClassLoader  
~~~
ClassLoader.getSystemClassLoader()
~~~
- æ–¹å¼å››:è·å–è°ƒç”¨è€…çš„ClassLoader  
~~~
DriverManager.getCallerClassLoader()
~~~

## ä¸ƒã€åŒäº²å§”æ´¾æœºåˆ¶

&emsp;&emsp;Java,è™šæ‹Ÿæœºå¯¹classæ–‡ä»¶é‡‡ç”¨çš„æ˜¯```æŒ‰éœ€åŠ è½½```çš„æ–¹å¼ï¼Œ ä¹Ÿå°±æ˜¯è¯´å½“éœ€è¦ä½¿ç”¨è¯¥
ç±»æ—¶æ‰ä¼šå°†å®ƒçš„classæ–‡ä»¶åŠ è½½åˆ°å†…å­˜ç”Ÿæˆclasså¯¹è±¡ã€‚è€Œä¸”åŠ è½½æŸä¸ªç±»çš„
ç±»æ—¶æ‰ä¼šå°†å®ƒçš„ç±»æ–‡ä»¶åŠ è½½åˆ°å†…å­˜ç”Ÿæˆç±»å¯¹è±¡ã€‚è€Œä¸”åŠ è½½æŸä¸ªç±»çš„class.æ–‡ä»¶æ—¶ï¼ŒJavaè™šæ‹Ÿæœºé‡‡ç”¨çš„æ˜¯```åŒäº²å§”æ´¾æ¨¡å¼```ï¼Œå³æŠŠè¯·æ±‚äº¤ç”±çˆ¶ç±»å¤„ç†,å®ƒæ˜¯ä¸€ç§ä»»åŠ¡å§”æ´¾æ¨¡å¼ã€‚

**å·¥ä½œåŸç†:**
- å¦‚æœä¸€ä¸ªç±»åŠ è½½å™¨æ”¶åˆ°äº†ç±»åŠ è½½è¯·æ±‚ï¼Œå®ƒå¹¶ä¸ä¼šè‡ªå·±å…ˆå»åŠ è½½ï¼Œè€Œæ˜¯æŠŠè¿™ä¸ªè¯·æ±‚å§”æ‰˜ç»™çˆ¶ç±»çš„åŠ è½½å™¨å»æ‰§è¡Œ;
- å¦‚æœçˆ¶ç±»åŠ è½½å™¨è¿˜å­˜åœ¨å…¶çˆ¶ç±»åŠ è½½å™¨ï¼Œåˆ™è¿›ä¸€æ­¥å‘ä¸Šå§”æ‰˜ï¼Œä¾æ¬¡é€’å½’ï¼Œè¯·æ±‚æœ€ç»ˆå°†åˆ°è¾¾é¡¹å±‚çš„å¯åŠ¨ç±»åŠ è½½å™¨;
- å¦‚æœçˆ¶ç±»åŠ è½½å™¨å¯ä»¥å®Œæˆç±»åŠ è½½ä»»åŠ¡ï¼Œå°±æˆåŠŸè¿”å›ï¼Œå€˜è‹¥çˆ¶ç±»åŠ è½½å™¨æ— æ³•å®Œæˆæ­¤åŠ è½½ä»»åŠ¡ï¼Œå­åŠ è½½å™¨æ‰ä¼šå°è¯•è‡ªå·±å»åŠ è½½ï¼Œè¿™å°±æ˜¯åŒäº²å§”æ´¾æ¨¡å¼ã€‚

```java
package java.lang;

public class String {

    static {
        System.out.println("è¿™æ˜¯è‡ªå®šä¹‰çš„Stringç±»çš„é™æ€ä»£ç å—");
    }

    public static void main(String[] args) {
        System.out.println("hello,String");
    }
}
```

![](https://snow-hh.github.io/assets/img/jvm/6-03.png)

![](https://snow-hh.github.io/assets/img/jvm/6-04.png)

![](https://snow-hh.github.io/assets/img/jvm/6-05.png)

**ä¼˜åŠ¿:**
- é¿å…ç±»çš„é‡å¤åŠ è½½
- ä¿æŠ¤ç¨‹åºå®‰å…¨ï¼Œé˜²æ­¢æ ¸å¿ƒAPIè¢«éšæ„ç¯¡æ”¹

è‡ªå®šä¹‰ç±»: java.lang.String

è‡ªå®šä¹‰ç±»: java.lang.HhStart
```java
public class HhStart {

    public static void main(String[] args) {
        System.out.println("è¿™æ˜¯è‡ªå®šä¹‰çš„ä¸€ä¸ªç±»");
    }
}
```

![](https://snow-hh.github.io/assets/img/jvm/6-06.png)

**æ²™ç®±å®‰å…¨æœºåˆ¶ï¼š**

&emsp;&emsp;è‡ªå®šä¹‰Stringç±»ï¼Œä½†æ˜¯åœ¨åŠ è½½è‡ªå®šä¹‰stringç±»çš„æ—¶å€™ä¼šç‡å…ˆä½¿ç”¨å¼•å¯¼ç±»åŠ è½½å™¨åŠ è½½ï¼Œè€Œå¼•å¯¼ç±»åŠ è½½å™¨åœ¨åŠ è½½çš„è¿‡ç¨‹ä¸­ä¼šå…ˆåŠ è½½jdkè‡ªå¸¦çš„æ–‡ä»¶(rt. jaråŒ…ä¸­java\lang\String.class),æŠ¥é”™ä¿¡æ¯è¯´æ²¡æœ‰mainæ–¹æ³•ï¼Œå°±æ˜¯å› ä¸ºåŠ è½½çš„æ˜¯rt. jaråŒ…ä¸­çš„Stringç±»ã€‚è¿™æ ·å¯ä»¥ä¿è¯å¯¹javaæ ¸å¿ƒæºä»£ç çš„ä¿æŠ¤ï¼Œè¿™å°±æ˜¯æ²™ç®±å®‰å…¨æœºåˆ¶ã€‚

**ç±»çš„ä¸»åŠ¨ä½¿ç”¨ä¸è¢«åŠ¨ä½¿ç”¨ï¼š**

&emsp;&emsp;åœ¨JVMä¸­è¡¨ç¤ºä¸¤ä¸ªclasså¯¹è±¡æ˜¯å¦ä¸ºåŒ-ä¸€ä¸ªç±»å­˜åœ¨ä¸¤ä¸ªå¿…è¦æ¡ä»¶: ç±»çš„å®Œæ•´ç±»åå¿…é¡»ä¸€è‡´ï¼ŒåŒ…æ‹¬åŒ…åã€‚ åŠ è½½è¿™ä¸ªç±»çš„ClassLoader (æŒ‡ClassLoade rå®ä¾‹å¯¹è±¡)å¿…é¡»ç›¸åŒã€‚ æ¢å¥è¯è¯´ï¼Œåœ¨JVMä¸­ï¼Œ å³ä½¿è¿™ä¸¤ä¸ªç±»å¯¹è±¡(classå¯¹è±¡)æ¥æºåŒä¸€ä¸ªClassæ–‡ä»¶ï¼Œè¢«åŒä¸€ä¸ªè™šæ‹Ÿæœºæ‰€åŠ è½½ï¼Œä½†åªè¦åŠ è½½å®ƒä»¬çš„ClassLoaderå®ä¾‹å¯¹è±¡ä¸åŒï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªç±»å¯¹è±¡ä¹Ÿæ˜¯ä¸ç›¸ç­‰çš„ã€‚
JVMå¿…é¡»çŸ¥é“ä¸€ä¸ªç±»å‹æ˜¯ç”±å¯åŠ¨åŠ è½½å™¨åŠ è½½çš„è¿˜æ˜¯ç”±ç”¨æˆ·ç±»åŠ è½½å™¨åŠ è½½çš„ã€‚å¦‚æœä¸€ä¸ªç±»å‹æ˜¯ç”±ç”¨æˆ·ç±»åŠ è½½å™¨åŠ è½½çš„ï¼Œé‚£ä¹ˆJVMä¼šå°†è¿™ä¸ªç±»åŠ è½½å™¨çš„ä¸€ä¸ªå¼•ç”¨ä½œä¸ºç±»å‹ä¿¡æ¯çš„ä¸€-éƒ¨åˆ†ä¿å­˜åœ¨æ–¹æ³•åŒºä¸­ã€‚å½“è§£æä¸€ä¸ªç±»å‹åˆ°å¦ä¸€ä¸ªç±»å‹çš„å¼•ç”¨çš„æ—¶å€™ï¼ŒJVMéœ€ è¦ä¿è¯è¿™ä¸¤ä¸ªç±»å‹çš„ç±»åŠ è½½å™¨æ˜¯ç›¸åŒçš„

**Javaç¨‹åºå¯¹ç±»çš„ä½¿ç”¨æ–¹å¼åˆ†ä¸º:ä¸»åŠ¨ä½¿ç”¨å’Œè¢«åŠ¨ä½¿ç”¨ï¼š**

ä¸»åŠ¨ä½¿ç”¨ï¼Œåˆåˆ†ä¸ºä¸ƒç§æƒ…å†µ:

- åˆ›å»ºç±»çš„å®ä¾‹
- è®¿é—®æŸä¸ªç±»æˆ–æ¥å£çš„é™æ€å˜é‡ï¼Œæˆ–è€…å¯¹è¯¥é™æ€å˜é‡èµ‹å€¼
- è°ƒç”¨ç±»çš„é™æ€æ–¹æ³•
- åå°„(æ¯”å¦‚: Class. forName (â€œcom. atguigu . Test")
- åˆå§‹åŒ–ä¸€ä¸ªç±»çš„å­ç±»
- Javaè™•æ‹Ÿæœºå¯åŠ¨æ—¶è¢«æ ‡æ˜ä¸ºå¯åŠ¨ç±»çš„ç±»
- JDK 7å¼€å§‹æä¾›çš„åŠ¨æ€è¯­è¨€æ”¯æŒ:java.lang.invoke.MethodHandleå®ä¾‹çš„è§£æç»“æœ  REF_ getstaticã€ REF_ _putStaticã€ REF_ invokeStaticå¥æŸ„å¯¹ åº”çš„ç±»æ²¡æœ‰åˆå§‹åŒ–ï¼Œåˆ™åˆå§‹åŒ–

&emsp;&emsp;é™¤äº†ä»¥ä¸Šä¸ƒç§æƒ…å†µï¼Œå…¶ä»–ä½¿ç”¨Javaç±»çš„æ–¹å¼éƒ½è¢«çœ‹ä½œæ˜¯å¯¹ç±»çš„è¢«åŠ¨ä½¿ç”¨ï¼Œéƒ½ä¸ä¼šå¯¼è‡´ç±»çš„åˆå§‹åŒ–ã€‚
